[mysqld]
# General settings
port = 3306
socket = /var/run/mysqld/mysqld.sock
pid-file = /var/run/mysqld/mysqld.pid
user = mysql
bind-address = 0.0.0.0

# Logging
log-error = /var/log/mysql/error.log
log-queries-not-using-indexes = 1
slow-query-log = 1
slow-query-log-file = /var/log/mysql/slow.log

# Replication
server-id = 2
log-bin = /var/log/mysql/mysql-bin.log
binlog-do-db = mydb
relay-log = /var/lib/mysql/mysql-relay-bin
relay-log-index = /var/lib/mysql/mysql-relay-bin.index
replicate-do-db = mydb
replicate-ignore-db = mysql

# Performance
innodb_buffer_pool_size = 2G
innodb_log_file_size = 256M
innodb_flush_log_at_trx_commit = 2

# Security
skip-name-resolve
skip-networking
default_authentication_plugin = mysql_native_password

# Character set
character-set-server = utf8mb4
collation-server = utf8mb4_unicode_ci
